#ifndef BITBOARD_H_
#define BITBOARD_H_

typedef uint64_t Bitboard;

#define LSB(x) (__builtin_ctzll(x))
#define MSB(x) (__builtin_clzll(x))

#define RANK1 0b0000000000000000000000000000000000000000000000000000000011111111ULL
#define RANK2 0b0000000000000000000000000000000000000000000000001111111100000000ULL
#define RANK3 0b0000000000000000000000000000000000000000111111110000000000000000ULL
#define RANK4 0b0000000000000000000000000000000011111111000000000000000000000000ULL
#define RANK5 0b0000000000000000000000001111111100000000000000000000000000000000ULL
#define RANK6 0b0000000000000000111111110000000000000000000000000000000000000000ULL
#define RANK7 0b0000000011111111000000000000000000000000000000000000000000000000ULL
#define RANK8 0b1111111100000000000000000000000000000000000000000000000000000000ULL

#define FILEA 0b1000000010000000100000001000000010000000100000001000000010000000ULL
#define FILEB 0b0100000001000000010000000100000001000000010000000100000001000000ULL
#define FILEC 0b0010000000100000001000000010000000100000001000000010000000100000ULL
#define FILED 0b0001000000010000000100000001000000010000000100000001000000010000ULL
#define FILEE 0b0000100000001000000010000000100000001000000010000000100000001000ULL
#define FILEF 0b0000010000000100000001000000010000000100000001000000010000000100ULL
#define FILEG 0b0000001000000010000000100000001000000010000000100000001000000010ULL
#define FILEH 0b0000000100000001000000010000000100000001000000010000000100000001ULL

#define H1 0
#define G1 1
#define F1 2
#define E1 3
#define D1 4
#define C1 5
#define B1 6
#define A1 7
#define H2 8
#define G2 9
#define F2 10
#define E2 11
#define D2 12
#define C2 13
#define B2 14
#define A2 15
#define H3 16
#define G3 17
#define F3 18
#define E3 19
#define D3 20
#define C3 21
#define B3 22
#define A3 23
#define H4 24
#define G4 25
#define F4 26
#define E4 27
#define D4 28
#define C4 29
#define B4 30
#define A4 31
#define H5 32
#define G5 33
#define F5 34
#define E5 35
#define D5 36
#define C5 37
#define B5 38
#define A5 39
#define H6 40
#define G6 41
#define F6 42
#define E6 43
#define D6 44
#define C6 45
#define B6 46
#define A6 47
#define H7 48
#define G7 49
#define F7 50
#define E7 51
#define D7 52
#define C7 53
#define B7 54
#define A7 55
#define H8 56
#define G8 57
#define F8 58
#define E8 59
#define D8 60
#define C8 61
#define B8 62
#define A8 63

const Bitboard chess_board[64] = {
    FILEH & RANK1, FILEG & RANK1, FILEF & RANK1, FILEE & RANK1, FILED & RANK1, FILEC & RANK1, FILEB & RANK1, FILEA & RANK1,
    FILEH & RANK2, FILEG & RANK2, FILEF & RANK2, FILEE & RANK2, FILED & RANK2, FILEC & RANK2, FILEB & RANK2, FILEA & RANK2,
    FILEH & RANK3, FILEG & RANK3, FILEF & RANK3, FILEE & RANK3, FILED & RANK3, FILEC & RANK3, FILEB & RANK3, FILEA & RANK3,
    FILEH & RANK4, FILEG & RANK4, FILEF & RANK4, FILEE & RANK4, FILED & RANK4, FILEC & RANK4, FILEB & RANK4, FILEA & RANK4,
    FILEH & RANK5, FILEG & RANK5, FILEF & RANK5, FILEE & RANK5, FILED & RANK5, FILEC & RANK5, FILEB & RANK5, FILEA & RANK5,
    FILEH & RANK6, FILEG & RANK6, FILEF & RANK6, FILEE & RANK6, FILED & RANK6, FILEC & RANK6, FILEB & RANK6, FILEA & RANK6,
    FILEH & RANK7, FILEG & RANK7, FILEF & RANK7, FILEE & RANK7, FILED & RANK7, FILEC & RANK7, FILEB & RANK7, FILEA & RANK7,
    FILEH & RANK8, FILEG & RANK8, FILEF & RANK8, FILEE & RANK8, FILED & RANK8, FILEC & RANK8, FILEB & RANK8, FILEA & RANK8
};

Bitboard clear_bit(Bitboard board, uint8_t index);
Bitboard add_bit(Bitboard board, uint8_t index);

#endif